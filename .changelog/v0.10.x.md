# Release v0.10.x - Changelog Documentation System

Released: 2026-01-XX

## Overview

This release introduces a structured changelog documentation system for creating rich, detailed release notes. The system follows best practices from our other projects and integrates seamlessly with GitHub Actions to automatically create professional release descriptions.

## üéâ New Features

### Changelog Documentation System
- **Structured Release Notes**: Added `.changelog/` directory with `v{major}.{minor}.x.md` naming pattern
- **Comprehensive README**: Created detailed documentation for changelog format and best practices
- **GitHub Actions Integration**: Updated release workflow to automatically use changelog files with version substitution
- **Fallback Support**: Maintains automatic commit-based changelogs when manual changelog is not provided
- **Automatic File Rename**: Pattern files (e.g., `v0.10.x.md`) automatically renamed to versioned files (e.g., `v0.10.5.md`) on release, preserving git history

### Documentation Updates
- **CLAUDE.md Updates**: Added detailed release changelog process instructions
- **Best Practices Guide**: Documented when and how to create changelog files
- **Format Templates**: Provided clear structure with emoji-based sections for visual organization

### Chief of Staff - ETA Countdown
- **Agent ETA Display**: Running agents now show remaining time (e.g., "~2m 30s left") based on historical task completion times
- **Overtime Indicator**: When tasks exceed their typical duration, shows "+Xm Xs over estimate" in yellow with a pulse animation
- **Progress Bar Enhancement**: Improved progress bar with clearer "X% complete" and prominent ETA display
- **Visual Polish**: Slightly thicker progress bars and better typography for the countdown display

### Dashboard - Activity Streak
- **Current Streak Display**: Shows consecutive days of activity with dynamic emoji (fire for 7+ days, lightning for 3+, sparkles for less)
- **Longest Streak Tracking**: Displays your personal best streak alongside current streak
- **Personal Best Badge**: Green "Personal best!" badge appears when you match or beat your longest streak
- **7-Day Activity Bar**: Visual mini-chart showing activity for the past week with green/gray bars
- **Gamification**: Motivates consistent usage through streak tracking and progress visualization

### PortOS Stack Template - AI Provider Integration
- **AI Toolkit Integration**: New projects created with the PortOS Stack template now include `@portos/ai-toolkit` by default
- **Provider Management UI**: Scaffolded projects include an AI Providers page (`/providers`) for adding, editing, testing, and deleting providers
- **Navigation Integration**: New apps have icons in the sidebar with active state highlighting for Home, AI Providers, and About routes
- **Provider Management API**: `/api/providers` endpoints for managing AI providers (CLI or API-based)
- **Run Tracking**: `/api/runs` endpoints for executing and tracking AI runs
- **Prompt Templates**: `/api/prompts` endpoints for managing reusable prompt templates
- **Automatic Symlink**: Template creates symlinks to PortOS's ai-toolkit package in root, server, and client node_modules

### Create App Improvements
- **Default Directory Path**: The Create App page (`/apps/create`) now defaults to the PortOS parent directory
- **Folder Browser**: Added a folder picker button to browse and select project directories visually
- **Templates Auto-Default**: Templates page now automatically sets the target directory without requiring folder selection

### Soul - Digital Twin Identity System
- **Soul Documents**: New `/soul` page for managing identity scaffold documents that define persona, values, and cognitive style
- **Document Management**: View, edit, create, and delete soul markdown documents organized by category (core, audio, behavioral, enrichment)
- **Multi-Model Behavioral Testing**: Run 14 behavioral alignment tests against multiple AI providers/models simultaneously with side-by-side comparison
- **Enrichment System**: Guided questionnaire across 13 categories (memories, favorites, values, routines, non-negotiables, decision heuristics, error intolerance, etc.) that generates soul document content from answers
- **Export Formats**: Export soul for use in external LLMs as System Prompt, CLAUDE.md, JSON, or individual files
- **CoS Integration**: Soul context automatically injected into Chief of Staff agent prompts when enabled
- **Identity Navigation Group**: Brain and Soul now grouped under "Identity" section in navigation

### Soul Enhancement: Reliable Digital Twins
- **Completeness Validator**: New API endpoint and UI showing percentage of required identity sections covered (identity, values, communication, decision making, non-negotiables, error intolerance) with actionable suggestions for missing sections
- **Contradiction Detector**: AI-powered analysis to detect inconsistencies and conflicting statements across soul documents with severity levels and resolution suggestions
- **Dynamic Test Generation**: Generate behavioral tests automatically based on soul content - tests values in action, communication style, non-negotiables, and decision patterns
- **Writing Sample Analysis**: Paste writing samples to extract your authentic voice patterns (sentence structure, vocabulary, formality, tone) and automatically generate a WRITING_STYLE.md document
- **Soul Creation Wizard**: 5-step guided wizard for new users covering identity basics, core values, communication style, decision making, and non-negotiables
- **Document Weighting**: Priority slider (1-10) on each document - higher weighted documents are preserved first when context limits force truncation
- **New Enrichment Categories**: Added non_negotiables, decision_heuristics, and error_intolerance categories with 3 preset questions each
- **Best Practices Documentation**: Added SOUL_GUIDE.md with comprehensive guidance on creating effective soul documents

### Soul - Mobile Responsive Design
- **Mobile-First Layout**: Complete responsive redesign of the Soul page and all tabs for mobile devices
- **Adaptive Document Editor**: Documents list and editor use stacked layout on mobile with back navigation
- **Touch-Friendly Controls**: All buttons and interactive elements have 40px+ minimum touch targets for accessibility
- **Responsive Grids**: Category grids, test provider selections, and export options adapt from multi-column to single-column on small screens
- **Horizontal Tab Scrolling**: Tab navigation scrolls horizontally on narrow screens with hidden scrollbar
- **Mobile-Optimized Forms**: Enrichment questionnaire, wizard, and all modals display properly on mobile with appropriate spacing

## üîß Improvements

### Release Process
- **Rich Release Descriptions**: GitHub releases now support detailed, categorized changelogs
- **Flexible Workflow**: Developers can choose between detailed changelogs or auto-generated commit logs
- **Consistency**: Standardized release note format across all versions
- **Version Substitution**: Workflow automatically replaces version placeholders with actual release version
- **Git History Preservation**: Pattern files renamed using `git mv` to maintain full file history

### Developer Experience
- **Clear Guidelines**: Comprehensive documentation in `.changelog/README.md`
- **Easy Maintenance**: Simple process for creating and updating release notes
- **Tool Integration**: Instructions for using `gh` CLI to manage releases

## üêõ Fixes

### CoS Agent Provider/Model Validation
- **Provider Override Support**: Tasks specifying a `provider` in metadata now correctly use that provider instead of always using the active provider
- **Model Compatibility Validation**: When spawning agents, models are now validated against the target provider's model list - prevents invalid combinations like using Claude models with the Codex CLI provider
- **Graceful Fallback**: Invalid model/provider combinations fall back to the appropriate tier model for the actual provider with a warning log

### System Task Deletion
- **Task Type Detection**: Deleting system tasks (prefixed with `sys-`) now correctly passes `type=internal` to the API, fixing "Task not found" errors when deleting auto-generated investigation tasks

## üóëÔ∏è Removed

### Dead Code Cleanup
- **Legacy Service Files**: Removed three unused `.old.js` files from `server/services/`:
  - `providers.old.js` - superseded by current `providers.js`
  - `promptService.old.js` - superseded by current `promptService.js`
  - `runner.old.js` - superseded by AI Toolkit's runner service
- These files were unreferenced throughout the codebase and represented ~1,220 lines of dead code

## üì¶ Installation

```bash
git clone https://github.com/atomantic/PortOS.git
cd PortOS
npm run install:all
pm2 start ecosystem.config.cjs
```

## üîó Full Changelog

**Full Diff**: https://github.com/atomantic/PortOS/compare/v0.9.9...v0.10.x
