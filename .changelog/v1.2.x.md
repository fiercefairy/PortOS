# Release v1.2.x - Changelog

Released: Unreleased

## Overview

Unified self-improvement and app-improvement task schedules into a single system. PortOS is now treated as any other managed app for improvement tasks, eliminating the redundant split between "self-improvement" (targeting PortOS) and "app-improvement" (targeting managed apps).

## Features

### Unified improvement task schedule
- Merged 13 self-improvement + 10 app-improvement task types into 14 unified types: security, code-quality, test-coverage, performance, accessibility, console-errors, dependency-updates, documentation, ui-bugs, mobile-responsive, feature-ideas, error-handling, typing, release-check
- Removed redundant `cos-enhancement` task type (subsumed by `feature-ideas` which reads GOALS.md)
- Renamed `security-audit` → `security` for consistency
- Single `improvementEnabled` config flag replaces split `selfImprovementEnabled` + `appImprovementEnabled`
- Removed `comprehensiveAppImprovement` toggle (always comprehensive now)
- All execution keys unified to `task:X` format (migrated from `self-improve:X` / `app-improve:X`)

### Unified API endpoints
- New `GET/PUT /api/cos/schedule/task/:taskType` endpoint for all task types
- `POST /schedule/trigger` and `POST /schedule/reset` no longer require `category` param
- `GET /schedule/due` returns unified task list
- Old split endpoints kept as deprecated aliases for backward compatibility

### GOALS.md consolidation
- Merged `data/COS-GOALS.md` operational goals into root `GOALS.md`
- Goal progress service now reads from `GOALS.md` Operational Goals section
- Feature-ideas task prompt updated to reference `GOALS.md` instead of `data/COS-GOALS.md`

## Improvements

### Schedule data auto-migration
- `loadSchedule()` automatically detects v1 format and migrates to v2
- Merges execution history from both `self-improve:` and `app-improve:` keys into unified `task:` keys
- Version field bumped from 1 → 2 in `task-schedule.json`

### Simplified UI
- Removed segmented "Self-Improvement / App Improvement" toggle from Schedule tab
- Single unified task list with per-app override support for all 14 task types
- ConfigTab shows single "Improvement Tasks" toggle instead of three separate toggles
- Autonomy level presets updated to use `improvementEnabled`

## Removed

- `cos-enhancement` task type and associated prompts
- `comprehensiveAppImprovement` config flag
- Split `selfImprovementEnabled` / `appImprovementEnabled` config flags (kept as deprecated, read via `improvementEnabled ?? (selfImprovementEnabled || appImprovementEnabled)`)
- Legacy inline task description blocks in `generateManagedAppImprovementTask()` (prompts now come from `taskSchedule.getTaskPrompt()`)
